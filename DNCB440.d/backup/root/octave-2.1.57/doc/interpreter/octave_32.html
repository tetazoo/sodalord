<HTML>
<HEAD>
<!-- Created by texi2html 1.56k from octave.texi on 15 March 2004 -->

<TITLE>GNU Octave - Image Processing</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="octave_1.html">first</A>, <A HREF="octave_31.html">previous</A>, <A HREF="octave_33.html">next</A>, <A HREF="octave_45.html">last</A> section, <A HREF="octave_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC202" HREF="octave_toc.html#TOC202">Image Processing</A></H1>

<P>
Octave can display images with the X Window System using the
<CODE>xloadimage</CODE> program.  You do not need to be running X in order to
manipulate images, however, so some of these functions may be useful
even if you are not able to view the results.


<P>
Loading images only works with Octave's image format (a file with a
matrix containing the image data, and a matrix containing the
colormap).  Contributions of robust, well-written functions to read
other image formats are welcome.  If you can provide them, or would like
to improve Octave's image processing capabilities in other ways, please
contact <A HREF="mailto:bug-octave@bevo.che.wisc.edu">bug-octave@bevo.che.wisc.edu</A>.


<P>
@anchor{doc-colormap}
<DL>
<DT><U>Function File:</U>  <B>colormap</B> <I>(<VAR>map</VAR>)</I>
<DD><A NAME="IDX1214"></A>
<DT><U>Function File:</U>  <B>colormap</B> <I>("default")</I>
<DD><A NAME="IDX1215"></A>
Set the current colormap.


<P>
<CODE>colormap (<VAR>map</VAR>)</CODE> sets the current colormap to <VAR>map</VAR>.  The
color map should be an <VAR>n</VAR> row by 3 column matrix.  The columns
contain red, green, and blue intensities respectively.  All entries
should be between 0 and 1 inclusive.  The new colormap is returned.


<P>
<CODE>colormap ("default")</CODE> restores the default colormap (a gray scale
colormap with 64 entries).  The default colormap is returned.


<P>
With no arguments, <CODE>colormap</CODE> returns the current color map.
</DL>


<P>
@anchor{doc-gray}
<DL>
<DT><U>Function File:</U>  <B>gray</B> <I>(<VAR>n</VAR>)</I>
<DD><A NAME="IDX1216"></A>
Return a gray colormap with <VAR>n</VAR> entries corresponding to values from
0 to <VAR>n</VAR>-1.  The argument <VAR>n</VAR> should be a scalar.  If it is
omitted, 64 is assumed.
</DL>


<P>
@anchor{doc-gray2ind}
<DL>
<DT><U>Function File:</U> [<VAR>img</VAR>, <VAR>map</VAR>] = <B>gray2ind</B> <I>(<VAR></VAR>)</I>
<DD><A NAME="IDX1217"></A>
Convert a gray scale intensity image to an Octave indexed image.
</DL>


<P>
@anchor{doc-image}
<DL>
<DT><U>Function File:</U>  <B>image</B> <I>(<VAR>x</VAR>, <VAR>zoom</VAR>)</I>
<DD><A NAME="IDX1218"></A>
<DT><U>Function File:</U>  <B>image</B> <I>(<VAR>x</VAR>, <VAR>y</VAR>, <VAR>A</VAR>, <VAR>zoom</VAR>)</I>
<DD><A NAME="IDX1219"></A>
Display a matrix as a color image.  The elements of <VAR>x</VAR> are indices
into the current colormap and should have values between 1 and the
length of the colormap.  If <VAR>zoom</VAR> is omitted, the image will be
scaled to fit within 600x350 (to a max of 4).


<P>
It first tries to use <CODE>display</CODE> from <CODE>ImageMagick</CODE> then
<CODE>xv</CODE> and then <CODE>xloadimage</CODE>.


<P>
The axis values corresponding to the matrix elements are specified in
<VAR>x</VAR> and <VAR>y</VAR>. At present they are ignored.
</DL>
@seealso{imshow, imagesc, and colormap}


<P>
@anchor{doc-imagesc}
<DL>
<DT><U>Function File:</U>  <B>imagesc</B> <I>(<VAR>A</VAR>)</I>
<DD><A NAME="IDX1220"></A>
<DT><U>Function File:</U>  <B>imagesc</B> <I>(<VAR>x</VAR>, <VAR>y</VAR>, <VAR>A</VAR>)</I>
<DD><A NAME="IDX1221"></A>
<DT><U>Function File:</U>  <B>imagesc</B> <I>(..., <VAR>zoom</VAR>)</I>
<DD><A NAME="IDX1222"></A>
<DT><U>Function File:</U>  <B>imagesc</B> <I>(..., <VAR>limits</VAR>)</I>
<DD><A NAME="IDX1223"></A>
<DT><U>Function File:</U>  <VAR>B</VAR> =  <B>imagesc</B> <I>(...)</I>
<DD><A NAME="IDX1224"></A>
Display a scaled version of the matrix <VAR>A</VAR> as a color image.  The
matrix is scaled so that its entries are indices into the current
colormap.  The scaled matrix is returned.  If <VAR>zoom</VAR> is omitted, a
comfortable size is chosen.  If <VAR>limits</VAR> = [<VAR>lo</VAR>, <VAR>hi</VAR>] are
given, then that range maps into the full range of the colormap rather 
than the minimum and maximum values of <VAR>A</VAR>.


<P>
The axis values corresponding to the matrix elements are specified in
<VAR>x</VAR> and <VAR>y</VAR>, either as pairs giving the minimum and maximum
values for the respective axes, or as values for each row and column
of the matrix <VAR>A</VAR>.  At present they are ignored.
</DL>
@seealso{image and imshow}


<P>
@anchor{doc-imshow}
<DL>
<DT><U>Function File:</U>  <B>imshow</B> <I>(<VAR>i</VAR>)</I>
<DD><A NAME="IDX1225"></A>
<DT><U>Function File:</U>  <B>imshow</B> <I>(<VAR>x</VAR>, <VAR>map</VAR>)</I>
<DD><A NAME="IDX1226"></A>
<DT><U>Function File:</U>  <B>imshow</B> <I>(<VAR>x</VAR>, <VAR>n</VAR>)</I>
<DD><A NAME="IDX1227"></A>
<DT><U>Function File:</U>  <B>imshow</B> <I>(<VAR>i</VAR>, <VAR>n</VAR>)</I>
<DD><A NAME="IDX1228"></A>
<DT><U>Function File:</U>  <B>imshow</B> <I>(<VAR>r</VAR>, <VAR>g</VAR>, <VAR>b</VAR>)</I>
<DD><A NAME="IDX1229"></A>
Display an image.


<P>
<CODE>imshow (<VAR>x</VAR>)</CODE> displays an intensity image, estimating the 
number of gray levels.


<P>
<CODE>imshow (<VAR>x</VAR>, <VAR>map</VAR>)</CODE> displays an indexed image using the
specified colormap.


<P>
<CODE>imshow (<VAR>i</VAR>, <VAR>N</VAR>)</CODE> displays a gray scale intensity image of
N levels.


<P>
<CODE>imshow (<VAR>r</VAR>, <VAR>g</VAR>, <VAR>b</VAR>)</CODE> displays an RGB image.


<P>
The string <CODE>truesize</CODE> can always be used as an optional
final argument to prevent automatic zooming of the image.
</DL>


<P>
@seealso{image, imagesc, colormap, gray2ind, and rgb2ind}


<P>
@anchor{doc-ind2gray}
<DL>
<DT><U>Function File:</U>  <B>ind2gray</B> <I>(<VAR>x</VAR>, <VAR>map</VAR>)</I>
<DD><A NAME="IDX1230"></A>
Convert an Octave indexed image to a gray scale intensity image.
If <VAR>map</VAR> is omitted, the current colormap is used to determine the
intensities.
</DL>
@seealso{gray2ind, rgb2ntsc, image, and colormap}


<P>
@anchor{doc-ind2rgb}
<DL>
<DT><U>Function File:</U> [<VAR>r</VAR>, <VAR>g</VAR>, <VAR>b</VAR>] = <B>ind2rgb</B> <I>(<VAR>x</VAR>, <VAR>map</VAR>)</I>
<DD><A NAME="IDX1231"></A>
Convert an indexed image to red, green, and blue color components.
If <VAR>map</VAR> is omitted, the current colormap is used for the conversion.
</DL>
@seealso{rgb2ind, image, imshow, ind2gray, and gray2ind}


<P>
@anchor{doc-loadimage}
<DL>
<DT><U>Function File:</U> [<VAR>x</VAR>, <VAR>map</VAR>] = <B>loadimage</B> <I>(<VAR>file</VAR>)</I>
<DD><A NAME="IDX1232"></A>
Load an image file and it's associated color map from the specified
<VAR>file</VAR>.  The image must be stored in Octave's image format.
</DL>
@seealso{saveimage, load, and save}


<P>
@anchor{doc-rgb2ntsc}
<DL>
<DT><U>Function File:</U>  <B>rgb2ntsc</B> <I>(<VAR>rgb</VAR>)</I>
<DD><A NAME="IDX1233"></A>
Image format conversion.
</DL>


<P>
@anchor{doc-ntsc2rgb}
<DL>
<DT><U>Function File:</U>  <B>ntsc2rgb</B> <I>(<VAR>yiq</VAR>)</I>
<DD><A NAME="IDX1234"></A>
Image format conversion.
</DL>


<P>
@anchor{doc-hsv2rgb}
<DL>
<DT><U>Function File:</U>  <B><VAR>rgb_map</VAR></B> <I>= hsv2rgb (<VAR>hsv_map</VAR>)</I>
<DD><A NAME="IDX1235"></A>
Transform a colormap from the hsv space to the rgb space. 
</DL>
@seealso{rgb2hsv}


<P>
@anchor{doc-rgb2hsv}
<DL>
<DT><U>Function File:</U>  <B><VAR>hsv_map</VAR></B> <I>= rgb2hsv (<VAR>rgb_map</VAR>)</I>
<DD><A NAME="IDX1236"></A>
Transform a colormap from the rgb space to the hsv space.


<P>
A color n the RGB space consists of the red, green and blue intensities.


<P>
In the HSV space each color is represented by their hue, saturation
and value (brightness).  Value gives the amount of light in the color.
Hue describes the dominant wavelegth. 
Saturation is the amount of Hue mixed into the color. 
</DL>
@seealso{hsv2rgb}


<P>
@anchor{doc-ocean}
<DL>
<DT><U>Function File:</U>  <B>ocean</B> <I>(<VAR>n</VAR>)</I>
<DD><A NAME="IDX1237"></A>
Create color colormap.  The argument <VAR>n</VAR> should be a scalar.  If it
is omitted, 64 is assumed.
</DL>


<P>
@anchor{doc-rgb2ind}
<DL>
<DT><U>Function File:</U> [<VAR>x</VAR>, <VAR>map</VAR>] = <B>rgb2ind</B> <I>(<VAR>r</VAR>, <VAR>g</VAR>, <VAR>b</VAR>)</I>
<DD><A NAME="IDX1238"></A>
Convert and RGB image to an Octave indexed image.
</DL>
@seealso{ind2rgb and rgb2ntsc}


<P>
@anchor{doc-saveimage}
<DL>
<DT><U>Function File:</U>  <B>saveimage</B> <I>(<VAR>file</VAR>, <VAR>x</VAR>, <VAR>fmt</VAR>, <VAR>map</VAR>)</I>
<DD><A NAME="IDX1239"></A>
Save the matrix <VAR>x</VAR> to <VAR>file</VAR> in image format <VAR>fmt</VAR>.  Valid
values for <VAR>fmt</VAR> are


<DL COMPACT>

<DT><CODE>"img"</CODE>
<DD>
Octave's image format.  The current colormap is also saved in the file.

<DT><CODE>"ppm"</CODE>
<DD>
Portable pixmap format.

<DT><CODE>"ps"</CODE>
<DD>
PostScript format.  Note that images saved in PostScript format can not
be read back into Octave with loadimage.
</DL>

<P>
If the fourth argument is supplied, the specified colormap will also be
saved along with the image.


<P>
Note: if the colormap contains only two entries and these entries are
black and white, the bitmap ppm and PostScript formats are used.  If the
image is a gray scale image (the entries within each row of the colormap
are equal) the gray scale ppm and PostScript image formats are used,
otherwise the full color formats are used.
</DL>


<P>
@anchor{doc-IMAGEPATH}
<DL>
<DT><U>Built-in Variable:</U> <B>IMAGEPATH</B>
<DD><A NAME="IDX1240"></A>
A colon separated list of directories in which to search for image
files.
</DL>


<P><HR><P>
Go to the <A HREF="octave_1.html">first</A>, <A HREF="octave_31.html">previous</A>, <A HREF="octave_33.html">next</A>, <A HREF="octave_45.html">last</A> section, <A HREF="octave_toc.html">table of contents</A>.
</BODY>
</HTML>
